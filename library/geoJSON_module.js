const pointOfInterests = {
  "status_code": 200,
  "data": {
    "places": [
      {
        "id": "poi:21558",
        "level": "poi",
        "rating": 0.42859545198913,
        "rating_local": 2.14297725994565,
        "quadkey": "311223130003030013130",
        "location": {
          "lat": -37.806842,
          "lng": 144.9588642
        },
        "bounding_box": {
          "south": -37.8089908,
          "west": 144.955684,
          "north": -37.8060037,
          "east": 144.9597393
        },
        "name": "Queen Victoria Market",
        "name_suffix": "City of Melbourne, Australia",
        "name_local": "Queen Victoria Market",
        "name_en": "Queen Victoria Market",
        "name_translated": "Queen Victoria Market",
        "url": "https://go.sygic.com/travel/place?id=poi:21558",
        "duration_estimate": 3600,
        "marker": "eating-restaurant",
        "class": {
          "slug": "eating:restaurant:local",
          "name": "Local Restaurant"
        },
        "categories": [
          "eating",
          "shopping",
          "sightseeing"
        ],
        "tag_keys": [
          "360° Content",
          "Neoclassical Architecture",
          "Wi-Fi",
          "Market Hall",
          "Market",
          "Shopping Mall",
          "Local Products",
          "Local Cuisine",
          "Fresh Produce",
          "Open-air Market",
          "Shop"
        ],
        "parents": [
          {
            "id": "poi:28002537",
            "name": "City of Melbourne",
            "level": "neighbourhood"
          },
          {
            "id": "city:381",
            "name": "Melbourne",
            "level": "city"
          },
          {
            "id": "region:1941080",
            "name": "Greater Melbourne",
            "level": "region"
          },
          {
            "id": "region:143",
            "name": "Victoria",
            "level": "state"
          },
          {
            "id": "continent:5",
            "name": "Oceania",
            "level": "continent"
          },
          {
            "id": "country:73",
            "name": "Australia",
            "level": "country"
          }
        ],
        "perex": "This market is one of Melbourne's most well-known landmarks as well as the largest open-air market in the Southern Hemisphere.",
        "customer_rating": null,
        "hotel_star_rating": null,
        "hotel_star_rating_unofficial": null,
        "thumbnail_url": "https://media-cdn.sygictraveldata.com/media/poi:21558"
      },
      {
        "id": "poi:21553",
        "level": "poi",
        "rating": 0.34143108140299,
        "rating_local": 1.70715540701495,
        "quadkey": "311223130003033033200",
        "location": {
          "lat": -37.8179923,
          "lng": 144.9687667
        },
        "bounding_box": {
          "south": -37.8184973,
          "west": 144.9680392,
          "north": -37.8175238,
          "east": 144.9695717
        },
        "name": "Federation Square",
        "name_suffix": "City of Melbourne, Australia",
        "name_local": "Federation Square",
        "name_en": "Federation Square",
        "name_translated": "Federation Square",
        "url": "https://go.sygic.com/travel/place?id=poi:21553",
        "duration_estimate": 1800,
        "marker": "other-square",
        "class": {
          "slug": "other:square",
          "name": "Square"
        },
        "categories": [
          "sightseeing"
        ],
        "tag_keys": [
          "360° Content",
          "Event Venue",
          "Cultural District",
          "Square",
          "Wi-Fi",
          "Cobblestone",
          "Pedestrian",
          "Open 24/7",
          "Free"
        ],
        "parents": [
          {
            "id": "poi:28002537",
            "name": "City of Melbourne",
            "level": "neighbourhood"
          },
          {
            "id": "city:381",
            "name": "Melbourne",
            "level": "city"
          },
          {
            "id": "region:1941080",
            "name": "Greater Melbourne",
            "level": "region"
          },
          {
            "id": "region:143",
            "name": "Victoria",
            "level": "state"
          },
          {
            "id": "continent:5",
            "name": "Oceania",
            "level": "continent"
          },
          {
            "id": "country:73",
            "name": "Australia",
            "level": "country"
          }
        ],
        "perex": "The huge open-air space and a large screen make the place perfect for public gatherings and broadcasting of sport events.",
        "customer_rating": null,
        "hotel_star_rating": null,
        "hotel_star_rating_unofficial": null,
        "thumbnail_url": "https://media-cdn.sygictraveldata.com/media/poi:21553"
      },
      {
        "id": "poi:21561",
        "level": "poi",
        "rating": 0.31266519427965,
        "rating_local": 1.5633259713982501,
        "quadkey": "311223130003033030023",
        "location": {
          "lat": -37.8167978,
          "lng": 144.9675752
        },
        "bounding_box": {
          "south": -37.8171982,
          "west": 144.967306,
          "north": -37.8164011,
          "east": 144.9678814
        },
        "name": "Saint Paul's Cathedral",
        "name_suffix": "City of Melbourne, Australia",
        "name_local": "Saint Paul's Cathedral",
        "name_en": "Saint Paul's Cathedral",
        "name_translated": "Saint Paul's Cathedral",
        "url": "https://go.sygic.com/travel/place?id=poi:21561",
        "duration_estimate": 1800,
        "marker": "other-place_of_worship-church",
        "class": {
          "slug": "other:place_of_worship:church:cathedral",
          "name": "Cathedral"
        },
        "categories": [
          "sightseeing"
        ],
        "tag_keys": [
          "360° Content",
          "Anglican Church",
          "Anglican",
          "Place of Worship",
          "Gothic Architecture",
          "Wheelchair Accessible",
          "Christian",
          "Cathedral"
        ],
        "parents": [
          {
            "id": "poi:28002537",
            "name": "City of Melbourne",
            "level": "neighbourhood"
          },
          {
            "id": "city:381",
            "name": "Melbourne",
            "level": "city"
          },
          {
            "id": "region:1941080",
            "name": "Greater Melbourne",
            "level": "region"
          },
          {
            "id": "region:143",
            "name": "Victoria",
            "level": "state"
          },
          {
            "id": "continent:5",
            "name": "Oceania",
            "level": "continent"
          },
          {
            "id": "country:73",
            "name": "Australia",
            "level": "country"
          }
        ],
        "perex": "Recently having celebrated the 125th anniversary of its consecration, the St.",
        "customer_rating": null,
        "hotel_star_rating": null,
        "hotel_star_rating_unofficial": null,
        "thumbnail_url": "https://media-cdn.sygictraveldata.com/media/poi:21561"
      },
      {
        "id": "poi:21649",
        "level": "poi",
        "rating": 0.31203124945636,
        "rating_local": 1.5601562472818,
        "quadkey": "311223130003033222000",
        "location": {
          "lat": -37.8217833,
          "lng": 144.9647061
        },
        "bounding_box": null,
        "name": "Eureka Skydeck 88",
        "name_suffix": "Melbourne, Australia",
        "name_local": "Eureka Skydeck 88",
        "name_en": "Eureka Skydeck 88",
        "name_translated": "Eureka Skydeck 88",
        "url": "https://go.sygic.com/travel/place?id=poi:21649",
        "duration_estimate": 7200,
        "marker": "sightseeing",
        "class": {
          "slug": "sightseeing:skyscraper",
          "name": "Skyscraper"
        },
        "categories": [
          "sightseeing"
        ],
        "tag_keys": [
          "360° Content",
          "Melbourne Attractions Pass",
          "Residential Building",
          "Observation Deck",
          "Skyscraper",
          "Aerial Views",
          "Paid"
        ],
        "parents": [
          {
            "id": "city:381",
            "name": "Melbourne",
            "level": "city"
          },
          {
            "id": "region:1941080",
            "name": "Greater Melbourne",
            "level": "region"
          },
          {
            "id": "region:143",
            "name": "Victoria",
            "level": "state"
          },
          {
            "id": "continent:5",
            "name": "Oceania",
            "level": "continent"
          },
          {
            "id": "country:73",
            "name": "Australia",
            "level": "country"
          }
        ],
        "perex": "When you visit this observation deck, located on the 88th floor of the Eureka Tower, you are 285 meters high, looking down from the highest…",
        "customer_rating": null,
        "hotel_star_rating": null,
        "hotel_star_rating_unofficial": null,
        "thumbnail_url": "https://media-cdn.sygictraveldata.com/media/poi:21649"
      },
      {
        "id": "poi:21591",
        "level": "poi",
        "rating": 0.25811667409841,
        "rating_local": 1.29058337049205,
        "quadkey": "311223130003032113122",
        "location": {
          "lat": -37.8156524,
          "lng": 144.9639681
        },
        "bounding_box": {
          "south": -37.8156549,
          "west": 144.963956,
          "north": -37.8156498,
          "east": 144.9639803
        },
        "name": "Block Arcade",
        "name_suffix": "City of Melbourne, Australia",
        "name_local": "Block Arcade",
        "name_en": "Block Arcade",
        "name_translated": "Block Arcade",
        "url": "https://go.sygic.com/travel/place?id=poi:21591",
        "duration_estimate": 3600,
        "marker": "shopping",
        "class": {
          "slug": "shopping",
          "name": "Shop"
        },
        "categories": [
          "shopping",
          "sightseeing"
        ],
        "tag_keys": [
          "360° Content",
          "Pedestrian",
          "Shopping Arcade",
          "Indoor"
        ],
        "parents": [
          {
            "id": "poi:28002537",
            "name": "City of Melbourne",
            "level": "neighbourhood"
          },
          {
            "id": "city:381",
            "name": "Melbourne",
            "level": "city"
          },
          {
            "id": "region:1941080",
            "name": "Greater Melbourne",
            "level": "region"
          },
          {
            "id": "region:143",
            "name": "Victoria",
            "level": "state"
          },
          {
            "id": "continent:5",
            "name": "Oceania",
            "level": "continent"
          },
          {
            "id": "country:73",
            "name": "Australia",
            "level": "country"
          }
        ],
        "perex": "Historically the very first shopping arcade in the city.",
        "customer_rating": null,
        "hotel_star_rating": null,
        "hotel_star_rating_unofficial": null,
        "thumbnail_url": "https://media-cdn.sygictraveldata.com/media/poi:21591"
      }
    ]
  },
  "server_timestamp": "2020-05-20T01:12:25+00:00"
}

const convertToGeoJSON = (name, description, lat, lng) => {
  const MARKER_SIZE = "medium";
  const MARKER_SYMBOL = "";
  const MARKER_COLOR = "#a427dd";
  const STROKE = "c6e2ff";
  const STROKE_CAPACITY = 1.0;
  const STROKE_WIDTH = 1.0;
  const FILL = "#ffffff";
  const FILL_OPACITY = 0.5;

  const convertedData = {
    "type": "FeatureCollection",
    "features": [{
      "type": "feature",
      "geometry": {
        "type": "Point",
        "coordinates": [lng, lat]
      },
      "properties": {
        "title": name,
        "description": description,
        "marker-size": MARKER_SIZE,
        "marker-symbol": MARKER_SYMBOL,
        "marker-color": MARKER_COLOR,
        "stroke": STROKE,
        "stroke-capacity": STROKE_CAPACITY,
        "stroke-width": STROKE_WIDTH,
        "fill": FILL,
        "fill-opacity": FILL_OPACITY
      }
    }]
  }
  return convertedData;
}

const displayPOI = () => {
  const geoJSON = [];
  pointOfInterests.data.places.forEach(poi => {
    geoJSON.push(convertToGeoJSON(poi.name, poi.perex, poi.location.lat, poi.location.lng));
  })
  return geoJSON;
}

module.exports.convertToGeoJSON = convertToGeoJSON;
module.exports.displayPOI = displayPOI;